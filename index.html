<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Formação 4-3-3</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .field-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 30px;
    }

    .field {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(4, 1fr);
      gap: 10px;
      width: 60%;
      margin-bottom: 20px;
      position: relative;
    }

    .position {
      background-color: #28a745;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    .position.selected {
      background-color: #007bff;
    }

    .formation-panel {
      background: linear-gradient(to bottom, #4caf50 0%, #2e7d32 100%);
      padding: 30px 20px;
      border-radius: 20px;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
      max-width: 800px;
      margin: 0 auto;
    }

    .line {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }

    .player-box {
      background-color: rgba(255, 255, 255, 0.95);
      border: 2px solid #ddd;
      padding: 12px 16px;
      border-radius: 12px;
      text-align: center;
      font-weight: bold;
      min-width: 120px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }

    .player-box:hover {
      transform: scale(1.05);
    }

    .player-box .position-label {
      font-size: 12px;
      color: #555;
    }

    /* Painel lateral (popup de seleção) */
    .sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 300px;
      height: 100%;
      background-color: #ffffff;
      box-shadow: -2px 0 8px rgba(0,0,0,0.2);
      padding: 20px;
      transition: right 0.3s ease-in-out;
      overflow-y: auto;
      z-index: 999;
    }

    .sidebar.active {
      right: 0;
    }

    .sidebar h3 {
      margin-top: 0;
      margin-bottom: 15px;
    }

    .player-option {
      background: #f9f9f9;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 8px;
      cursor: pointer;
      border: 1px solid #ccc;
      transition: background 0.2s;
    }

    .player-option:hover {
      background: #e0e0e0;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.4);
      display: none;
      z-index: 998;
    }

    .overlay.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Monte seu time 4-3-3</h1>

    <div class="field-container">
      <div class="field">
        <div id="gol" class="position" data-pos="Goleiro">Goleiro</div>
        <div id="zag1" class="position" data-pos="Zagueiro">Zagueiro</div>
        <div id="zag2" class="position" data-pos="Zagueiro">Zagueiro</div>
        <div id="lat1" class="position" data-pos="Lateral">Lateral</div>
        <div id="meia1" class="position" data-pos="Meio de Campo">Meio de Campo</div>
        <div id="meia2" class="position" data-pos="Meio de Campo">Meio de Campo</div>
        <div id="lat2" class="position" data-pos="Lateral">Lateral</div>
        <div id="ata1" class="position" data-pos="Atacante">Atacante</div>
        <div id="ata2" class="position" data-pos="Atacante">Atacante</div>
        <div id="ata3" class="position" data-pos="Atacante">Atacante</div>
      </div>
    </div>

    <h3 style="text-align:center;">Seu Time Montado</h3>
    <div class="formation-panel">
      <div class="line" id="line-ataque"></div>
      <div class="line" id="line-meio"></div>
      <div class="line" id="line-defesa"></div>
      <div class="line" id="line-gol"></div>
    </div>
  </div>

  <!-- Painel lateral para escolha -->
  <div class="sidebar" id="playerSidebar">
    <h3>Escolha um jogador</h3>
    <div id="playerOptions"></div>
  </div>
  <div class="overlay" id="overlay"></div>

  <script>
    const players = [
      { id: 1, name: "Jogador 1", position: "Goleiro", price: 5 },
      { id: 2, name: "Jogador 2", position: "Zagueiro", price: 7 },
      { id: 3, name: "Jogador 3", position: "Lateral", price: 6 },
      { id: 4, name: "Jogador 4", position: "Meio de Campo", price: 8 },
      { id: 5, name: "Jogador 5", position: "Atacante", price: 10 },
      { id: 6, name: "Jogador 6", position: "Goleiro", price: 6 },
      { id: 7, name: "Jogador 7", position: "Zagueiro", price: 7 },
      { id: 8, name: "Jogador 8", position: "Lateral", price: 5 },
      { id: 9, name: "Jogador 9", position: "Meio de Campo", price: 9 },
      { id: 10, name: "Jogador 10", position: "Atacante", price: 12 },
    ];

    const selectedPlayers = {};
    const sidebar = document.getElementById("playerSidebar");
    const playerOptions = document.getElementById("playerOptions");
    const overlay = document.getElementById("overlay");
    let currentPosition = null;

    const formationMap = {
      gol: "line-gol",
      zag1: "line-defesa",
      zag2: "line-defesa",
      lat1: "line-defesa",
      lat2: "line-defesa",
      meia1: "line-meio",
      meia2: "line-meio",
      ata1: "line-ataque",
      ata2: "line-ataque",
      ata3: "line-ataque"
    };

    document.querySelectorAll(".position").forEach(pos => {
      pos.addEventListener("click", () => {
        currentPosition = pos.id;
        showSidebar(pos.dataset.pos);
      });
    });

    function showSidebar(positionType) {
      playerOptions.innerHTML = "";
      const filtered = players.filter(p => p.position === positionType);

      filtered.forEach(player => {
        const div = document.createElement("div");
        div.className = "player-option";
        div.innerHTML = `<strong>${player.name}</strong><br>Preço: ${player.price}`;
        div.onclick = () => selectPlayer(currentPosition, player);
        playerOptions.appendChild(div);
      });

      sidebar.classList.add("active");
      overlay.classList.add("active");
    }

    overlay.onclick = () => {
      sidebar.classList.remove("active");
      overlay.classList.remove("active");
    };

    function selectPlayer(positionId, player) {
      selectedPlayers[positionId] = player;

      const fieldBox = document.getElementById(positionId);
      fieldBox.innerText = player.name;
      fieldBox.classList.add("selected");

      updateTeam();
      sidebar.classList.remove("active");
      overlay.classList.remove("active");
    }

    function updateTeam() {
      Object.values(formationMap).forEach(id => {
        document.getElementById(id).innerHTML = "";
      });

      for (let pos in selectedPlayers) {
        const player = selectedPlayers[pos];
        const div = document.createElement("div");
        div.className = "player-box";
        div.innerHTML = `<div>${player.name}</div><div class="position-label">${player.position}</div>`;
        document.getElementById(formationMap[pos]).appendChild(div);
      }
    }
  </script>
</body>
</html>
